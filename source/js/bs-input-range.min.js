!function(e){"use strict";function t(t,a){this.$select=e(t),this.options=this.mergeOptions(e.extend({},a,this.$select.data())),this.buildContainer(),this.buildLabel(),this.bindChangeEvent()}function a(t,a){if(1==a.allowDecimal){var i=parseFloat(e(t).val()),n=parseFloat(a.step.toFixed(a.decimalPrecision));i=parseFloat(i.toFixed(a.decimalPrecision)),parseFloat(i+n)<=parseFloat(a.maxValue.toFixed(a.decimalPrecision))&&e(t).val(parseFloat(i+n).toFixed(a.decimalPrecision))}else parseInt(e(t).val())<a.maxValue&&e(t).val(parseInt(e(t).val())+1)}function i(t,a){if(1==a.allowDecimal){var i=parseFloat(e(t).val()),n=a.step.toString();n=parseFloat(a.step.toFixed(a.decimalPrecision)),i=parseFloat(i.toFixed(a.decimalPrecision)),i-n>=parseFloat(a.minValue.toFixed(a.decimalPrecision))&&e(t).val(parseFloat(i-n).toFixed(a.decimalPrecision))}else parseInt(e("#"+t).val())>a.minValue&&e(t).val(parseInt(e(t).val())-1)}t.prototype={defaults:{labelText:function(e,t){return 0===e.length?this.emptyText:void 0},labelClass:"label label-warning lable-spinner",labelWidth:"auto",labelContainer:"<label><label>",emptyText:"Nothing",templates:{input_group:'<div class="input-group"></div>',input:'<input type="text" class="spinner form-control" placeholder="Enter Something" />',input_group_Container:'<div class="input-group-btn"><span class="input-group-btn "><button id="btn-spin-up" class="btn btn-default spin-btn-Up glyphicon glyphicon-menu-up" type="button"></button><button id="btn-spin-down" class="btn btn-default spin-btn-Down glyphicon glyphicon-menu-down" type="button"></button></span></div>',label:'<label class="label label-warning" ></label>'}},constructor:t,buildContainer:function(){this.$container=e(this.options.labelContainer)},buildLabel:function(){this.$label=e(this.options.templates.label).addClass(this.options.labelClass),this.options.labelWidth&&"auto"!==this.options.labelWidth&&(this.$label.css({width:this.options.labelWidth,overflow:"hidden","text-overflow":"ellipsis"}),this.$container.css({width:this.options.labelWidth})),this.$container.prepend(this.$label)},onChange:function(e,t){},mergeOptions:function(t){return e.extend(!0,{},this.defaults,this.options,t)},bindChangeEvent:function(){},updateLabelText:function(){}},e.fn.spinner=function(n,l,s){var o=e.extend({labelClass:"label label-warning",emptyText:"Nothing",InitValue:0,minValue:0,step:1,maxValue:50,allowDecimal:!1,decimalPrecision:2},n);return this.each(function(){var r,p,d=e(this),u=o.allowDecimal;if(null!=d){parseInt(o.InitValue)<parseInt(o.minValue)?o.InitValue=o.minValue:parseInt(o.InitValue)>parseInt(o.maxValue)&&(o.InitValue=o.maxValue);var c=e.parseHTML(t.prototype.defaults.templates.input_group),h=e.parseHTML(t.prototype.defaults.templates.input_group_Container),f=e(h).find("button:first-child").attr("id"),b=e(h).find("button:last-child").attr("id"),v=e.parseHTML(t.prototype.defaults.labelContainer),m=t.prototype.defaults.labelClass;e(v).attr("Class",m),e(v).text(o.emptyText),0==e(d).next().length?(e(d).before(c),e(d).addClass("spinner"),1==u?e(d).val(parseFloat(o.InitValue).toFixed(o.decimalPrecision)):e(d).val(parseInt(o.InitValue)),e(c).append(d),e(d).after(h)):e(d).next().text(o.emptyText),e(d).keydown(function(t){8==t.which?r=e(d).val():p=e(d).val()}),e(d).keyup(function(t){(t.which>=48&&t.which<=57||t.keyCode>=96&&t.keyCode<=105)&&(p=e(d).val()),e(d).val().length>0?(e("#"+f).removeAttr("disabled"),e("#"+b).removeAttr("disabled")):(e("#"+f).attr("disabled","disabled"),e("#"+b).attr("disabled","disabled"))}),e(d).keypress(function(t){if(e(this).val().indexOf(".")>=0&&46==t.which)t.preventDefault();else{if(!(t.which>=48&&t.which<=57||46==t.which))return!1;var a,i;if(1==o.allowDecimal){if(e(this)[0].selectionStart>e(this).val().indexOf(".")&&-1!=e(this).val().indexOf(".")&&e(this).val().substring(e(this).val().indexOf(".")+1,e(this).val().length).length>=parseInt(o.decimalPrecision))return!1;if(!(-1==e(this).val().indexOf(".")||e(this).val().indexOf(".")>=0))return!1;var n=e(d).val().insert(e(this)[0].selectionStart,String.fromCharCode(t.keyCode));if(a=parseFloat(o.maxValue),i=parseFloat(o.minValue),(""==n||isNaN(n))&&(n=parseFloat(0).toFixed(o.decimalPrecision)),a>=n&&n>=i)return!0;if(parseFloat(n)<=i)return e(d).val(parseFloat(i).toFixed(o.decimalPrecision)),!1;if(parseFloat(n)>=a)return e(d).val(parseFloat(a).toFixed(o.decimalPrecision)),!1;if(e(this).val().substring(e(this).val().indexOf(".")+1,e(this).val().length).length>=parseInt(o.decimalPrecision))return!1}else if(0==o.allowDecimal){var n=e(d).val()+String.fromCharCode(t.keyCode);return""==n&&(n=0),parseInt(n)<o.maxValue&&parseInt(n)>=o.minValue?!0:(e(d).val(e(d).val()),!1)}}}),e("#"+f).on("click",function(t){1==u?a(d,o):parseInt(e(d).val())<o.maxValue&&e(d).val(parseInt(e(d).val())+1)}),e("#"+b).on("click",function(t){1==u?i(d,o):parseInt(e(d).val())>o.minValue&&e(d).val(parseInt(e(d).val())-1)}),e(d).bind("mousewheel",function(e){e.originalEvent.wheelDelta/120>0?a(d,o):i(d,o)}),e(d).on("change paste",function(t){var a=e(d).val();if(1==o.allowDecimal&&(-1==e(this).val().indexOf(".")||e(this).val().indexOf(".")>=0)){var i=parseFloat(o.maxValue),n=parseFloat(o.minValue);if((""==a||isNaN(a))&&(a=parseFloat(0).toFixed(o.decimalPrecision)),i>=a&&a>=n)return!0;if(parseFloat(a)<=n)return e(d).val(parseFloat(n).toFixed(o.decimalPrecision)),!1;if(parseFloat(a)>=i)return e(d).val(parseFloat(i).toFixed(o.decimalPrecision)),!1}})}var x=e(this).data("spinner"),g="object"==typeof n&&n;x||(x=new t(this,g),e(this).data("spinner",x)),"string"==typeof n&&(x[n](l,s),"destroy"===n&&e(this).data("spinner",!1))})},String.prototype.insert=function(e,t){return e>0?this.substring(0,e)+t+this.substring(e,this.length):t+this},e.fn.spinner.Constructor=t}(window.jQuery);